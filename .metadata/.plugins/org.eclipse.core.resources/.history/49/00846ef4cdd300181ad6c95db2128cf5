/*
 * Main.c
 *
 *  Created on: Oct 15, 2018
 *      Author: Eng Ali Gamal
 */

#include <avr/io.h>
#include<avr/delay.h>
#include "Types.h"
#include"LCDc.h"

int main(void) {
	LCD_vidInit();
	u8 arr[] = "AbdMalik";
	int size;
	size = sizeof(arr);
	int difference;
	difference = 16 - size + 1;
	u8 Space;
	Space = ' ';

	LCD_vidwriteCommand(0b01000000); //3shan arouh lel cgram

	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000111);
	LCD_vidwriteCharacter(0b00000100);
	LCD_vidwriteCharacter(0b00011111);  //3en
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);

	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00011111); //ba2
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000100);
	LCD_vidwriteCharacter(0b00000000);

	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000111); //dal
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);

	LCD_vidwriteCharacter(0b00010000);
	LCD_vidwriteCharacter(0b00010000);
	LCD_vidwriteCharacter(0b00010000);
	LCD_vidwriteCharacter(0b00010000);
	LCD_vidwriteCharacter(0b00010000); //alef
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);

	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00011111); //lam
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);

	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00011111); //meem
	LCD_vidwriteCharacter(0b00000101);
	LCD_vidwriteCharacter(0b00000111);
	LCD_vidwriteCharacter(0b00000000);

	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00011111); //lam
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);

	LCD_vidwriteCharacter(0b00001101);
	LCD_vidwriteCharacter(0b00001001);
	LCD_vidwriteCharacter(0b00011101);
	LCD_vidwriteCharacter(0b00000001);
	LCD_vidwriteCharacter(0b00011111); //kaf
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);
	LCD_vidwriteCharacter(0b00000000);

	//////////////////////////////////////////////////////////////////////////////////////////////////

	while (1) {

		for (int i = 0; i < 17; i++) {

			LCD_vidsetposition(i, 0);
			LCD_vidwriteString(arr);

			if (i < difference) {
				LCD_vidsetposition(difference - i, 1);
			}

			else {
				LCD_vidsetposition(48 - i, 0);
			}

			for (int j = size - 2; j >= 0; j--) {
				LCD_vidwriteCharacter(j);
			}

			if (i > difference) {
				LCD_vidsetposition(33 - size + i, 1);
				LCD_vidwriteString(arr);

				LCD_vidsetposition(15 + size - i, 1);
				for (int j = size - 2; j >= 0; j--) {
					LCD_vidwriteCharacter(j);
				}

			}

			if (i != 16) {
				_delay_ms(1000);
				LCD_vidwriteCommand(00000001);
			}

		}

	}

	return -1;
}

